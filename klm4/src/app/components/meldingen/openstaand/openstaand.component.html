<h1>Openstaande meldingen</h1>
<hr>
<br><br>
<div class="tabeldiv">
  <table class="table table-hover">
    <thead>
    <tr>
      <th>Locatie</th>
      <th>Aflevertijd</th>
      <th>Vliegtuig type</th>
      <th>Equipment type</th>
      <th>Positie</th>
      <th>Status</th>
    </tr>
    </thead>
    <tbody *ngIf="'MECHANIC' !== userRole; else mechanic">
    <tr *ngFor="let melding of meldingService.mechanicMeldingen; let i = index">
      <ng-container *ngIf="melding.status !== 'Bezorgd' && melding.status !== 'Afgerond'">
        <td>{{melding.locatie}}</td>
        <td>{{melding.deadline}}</td>
        <td>{{melding.typeVliegtuig}}</td>
        <td>{{melding.wagonTypes}}</td>
        <td>{{melding.positie}}</td>
        <td>{{melding.status}}</td>
        <td *ngIf="melding.status !== 'Geaccepteerd'; else bezorgd ">
          <button class="acceptBtn" (click)="showPopUp(i)">Accepteren</button>
        </td>
        <ng-template #bezorgd>
          <td>
            <button class="bezorgdbtn" (click)="popUp(i)">Bezorgd</button>
          </td>
        </ng-template>
      </ng-container>
    </tr>
    </tbody>
    <ng-template #mechanic>
      <tbody>
      <tr *ngFor="let melding of meldingService.mechanicMeldingen; let i = index" (click)="nextScreen()">
        <ng-container *ngIf="melding.id == this.id && melding.status !== 'Ophalen'">
          <td>{{melding.locatie}}</td>
          <td>{{melding.deadline}}</td>
          <td>{{melding.typeVliegtuig}}</td>
          <td>{{melding.wagonTypes}}</td>
          <td>{{melding.positie}}</td>
          <td>{{melding.status}}</td>
          <td *ngIf="melding.status === 'Bezorgd'"><button class="ophaalbtn" (click)="ophaalPopUp(i)">Ophalen</button></td>
        </ng-container>
      </tr>
      </tbody>
    </ng-template>
  </table>
</div>
