<div class="row">
  <div class="col-12">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item" *ngIf="userRole == 'RUNNER'">
          <a routerLink="/runner">{{userRole.toString().substring(0, 1) + userRole.toString().substring(1).toLowerCase()}}</a>
        </li>
        <li class="breadcrumb-item" *ngIf="userRole == 'MECHANIC'">
          <a routerLink="/mechanic">{{userRole.toString().substring(0, 1) + userRole.toString().substring(1).toLowerCase()}}</a>
        </li>
        <li class="breadcrumb-item  active" aria-current="page" *ngIf="userRole == 'RUNNER'">
          <a routerLink="/runner/meldingen-openstaand">Openstaande meldingen</a>
        </li>
        <li class="breadcrumb-item  active" aria-current="page" *ngIf="userRole == 'MECHANIC'">
          <a routerLink="/mechanic/meldingen-openstaand">Openstaande meldingen</a>
        </li>
        <div class="auth-container">
          <a (click)="this.runnerRouter.logOut()">Logout</a>
        </div>
      </ol>
    </nav>
  </div>
</div>
<div class="tabeldiv">
  <table class="table table-hover">
    <thead>
    <tr>
      <th>Locatie</th>
      <th>Aflevertijd</th>
      <th>Vliegtuig type</th>
      <th>Equipment type</th>
      <th>Positie</th>
      <th>Status</th>
    </tr>
    </thead>
    <tbody *ngIf="'MECHANIC' !== userRole; else mechanic">
    <tr *ngFor="let melding of meldingService.mechanicMeldingen; let i = index">
      <ng-container *ngIf="melding.status !== 'Bezorgd' && melding.status !== 'Afgerond'">
        <td>{{melding.locatie}}</td>
        <td>{{melding.deadline}}</td>
        <td>{{melding.typeVliegtuig}}</td>
        <td>{{melding.wagonTypes}}</td>
        <td>{{melding.positie}}</td>
        <td>{{melding.status}}</td>
        <td *ngIf="melding.status !== 'Geaccepteerd'; else bezorgd ">
          <button class="acceptBtn btnShape" (click)="showPopUp(i)">Accepteren</button>
        </td>
        <ng-template #bezorgd>
          <td>
            <button class="bezorgdbtn btnShape" (click)="popUp(i)">Bezorgd</button>
          </td>
        </ng-template>
      </ng-container>
    </tr>
    </tbody>
    <ng-template #mechanic>
      <tbody>
      <tr *ngFor="let melding of meldingService.mechanicMeldingen; let i = index" (click)="showDamagedForm(i)">
        <ng-container *ngIf="melding.id == this.id && melding.status !== 'Ophalen'">
          <td>{{melding.locatie}}</td>
          <td>{{melding.deadline}}</td>
          <td>{{melding.typeVliegtuig}}</td>
          <td>{{melding.wagonTypes}}</td>
          <td>{{melding.positie}}</td>
          <td>{{melding.status}}</td>
          <td *ngIf="melding.status === 'Bezorgd'"><button class="ophaalbtn btnShape" (click)="ophaalPopUp(i)">Afronden</button></td>
          <td *ngIf="damageFormOpen && melding.status == 'Bezorgd'">
            <app-damaged-form></app-damaged-form></td>
        </ng-container>
      </tr>
      </tbody>
    </ng-template>
  </table>
</div>


